import { Callout } from 'nextra-theme-docs'

# Notify users API

You can send a notification of type "WELCOME_NOTIFICATION" to a single or multiple user using the notify() mutation. See
full specs in the API doc. This endpoint is available only from the server-side of your application.

See the API doc of [notify](https://snapshotp.roq-platform.com/docs/#mutation-notify)

```graphql
mutation {
  notify(
    notification: {
      key: "WELCOME_NOTIFICATION"
      recipients: {
        excludedUserIds: ["abc123"]
        userIds: ["abc123"]
        allUsers: false
        userGroups: { userGroupIds: ["abc123"], operator: AND }
      }
    }
  ) {
    usersNotified {
      count
    }
  }
}
```

| Parameter                    | Type   | Description                                                                                                                                                                                            |
|------------------------------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `key`                        | string | Key of notification-type that you created in the Console, eg._"WELCOME_NOTIFICATION"_                                                                                                                  |
| `recipients:userIds`         | array  | Array of user IDs that are notified.                                                                                                                                                                   |
| `recipients:userGroups`      | object | Object that contains a list of user-groups. You can also set a boolean value to decide who will be notified. See below.                                                                                |
| `recipients:excludedUserIds` | array  | List of user IDs (of ROQ Platform) who shouldn't be notified. A typical use case is when a user performs an action and all users of the same user-group should be notified, except of the acting user. |
| `recipients:allUsers`        | bool   | If set to true then all users will be notified.                                                                                                                                                        |
| `data`                       | array  | List of key/value pairs which you can use in the content section of the Notification template                                                                                                          |

### Operators

* **AND** - Notify all users that are related to all listed user-groups
* **OR** - Notify all users that are related to any of the user-group
